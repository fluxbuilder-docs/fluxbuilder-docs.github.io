"use strict";(self.webpackChunkdocu_notion_sample_site=self.webpackChunkdocu_notion_sample_site||[]).push([[3815],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=p(a),d=n,m=h["".concat(l,".").concat(d)]||h[d]||u[d]||o;return a?r.createElement(m,i(i({ref:t},c),{},{components:a})):r.createElement(m,i({ref:t},c))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},68572:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const o={title:"Ajax Search Pro",sidebar_position:17,slug:"/ajax-search-pro"},i=void 0,s={unversionedId:"FluxBuilder/Features/ajax-search-pro",id:"FluxBuilder/Features/ajax-search-pro",title:"Ajax Search Pro",description:"The Ajax Search will be integrated with WooCommerce, and MultiVendor apps.",source:"@site/docs/FluxBuilder/Features/ajax-search-pro.md",sourceDirName:"FluxBuilder/Features",slug:"/ajax-search-pro",permalink:"/ajax-search-pro",draft:!1,tags:[],version:"current",sidebarPosition:17,frontMatter:{title:"Ajax Search Pro",sidebar_position:17,slug:"/ajax-search-pro"},sidebar:"tutorialSidebar",previous:{title:"Min Max Quantities",permalink:"/min-max-quantities"},next:{title:"Judge.me",permalink:"/judgeme-review"}},l={},p=[{value:"<strong>1. Update FluxStore App</strong>",id:"855e7fd82c9a4f92a7972fe33242f606",level:3},{value:"2. Update functions.php",id:"6ff106c94f834a60aaeb2c06bdd60121",level:3},{value:"<strong>3. Common search issues:</strong>",id:"d90fd4f6427e452bb41f4a225e1750b0",level:3}],c={toc:p};function u(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"The Ajax Search will be integrated with WooCommerce, and MultiVendor apps."),(0,n.kt)("p",null,"To have the feature on the app, please follow these steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"You need to install and activate the\xa0",(0,n.kt)("a",{parentName:"li",href:"https://ajaxsearchpro.com/"},"Ajax Search Pro"),"\xa0plugin for your website."),(0,n.kt)("li",{parentName:"ol"},'Next, go to the "',(0,n.kt)("strong",{parentName:"li"},"Compatibility & Other Settings"),'" page of the Ajax Search Pro plugin. You can find this page by navigating to "',(0,n.kt)("strong",{parentName:"li"},"Ajax Search Pro"),'" in your WordPress dashboard, and then clicking on "',(0,n.kt)("strong",{parentName:"li"},"Compatibility & Other Settings"),'".'),(0,n.kt)("li",{parentName:"ol"},'In the "',(0,n.kt)("strong",{parentName:"li"},"Compatibility & Other Settings"),'" page, click on the "',(0,n.kt)("strong",{parentName:"li"},"Other"),'" tab.'),(0,n.kt)("li",{parentName:"ol"},'Make sure that the "',(0,n.kt)("strong",{parentName:"li"},"Enable REST API"),'" checkbox is checked.'),(0,n.kt)("li",{parentName:"ol"},'Click on the "',(0,n.kt)("strong",{parentName:"li"},"Save options"),'" button at the bottom of the page to save your changes.')),(0,n.kt)("p",null,"Then follow the 2 steps below:"),(0,n.kt)("h3",{id:"855e7fd82c9a4f92a7972fe33242f606"},(0,n.kt)("strong",{parentName:"h3"},"1. Update FluxStore App")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Using FluxBuilder"),": go to\xa0",(0,n.kt)("inlineCode",{parentName:"p"},"Features"),", select\xa0",(0,n.kt)("inlineCode",{parentName:"p"},"Search Product"),", enable\xa0",(0,n.kt)("inlineCode",{parentName:"p"},"Enable Ajax Search Pro plugin"),", then fill in the Ajax Search URL:"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"https://your-domain/wp-json/ajax-search-pro/v0/woo_search?s=")),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(96434).Z,width:"1319",height:"810"})),(0,n.kt)("h3",{id:"6ff106c94f834a60aaeb2c06bdd60121"},"2. Update functions.php"),(0,n.kt)("p",null,"Please go to the hosting control panel, and edit the ",(0,n.kt)("inlineCode",{parentName:"p"},"functions.php")," file in the ",(0,n.kt)("inlineCode",{parentName:"p"},"Theme")," folder to enable the search function from the API."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-php"},"function asp_custom_rest_handler( $data ) {\n    $id = -2;\n    $defaults = $args = array(\n        's' => ''\n    );\n    foreach ( $defaults as $k => $v ) {\n        $param = $data->get_param($k);\n        if ( $param !== null ) {\n            $args[$k] = $param;\n        }\n    }\n\n    // Fetch the search ID, which is probably the WooCommerce search\n    foreach ( wd_asp()->instances->get() as $instance ) {\n        if ( in_array('product', $instance['data']['customtypes'] ) ) {\n            $id = $instance['id'];\n            break;\n        }\n    }\n\n    // No search was found with products enabled, set it explicitly\n    if ( $id == -2 ) {\n        $args['post_type'] = array('product');\n    }\n\n    $asp_query = new ASP_Query($args, $id);\n    return $asp_query->posts;\n}\n\n// POST to: http://example.com/wp-json/ajax-search-pro/v1/woo_search\nadd_action( 'rest_api_init', function () {\n    register_rest_route('ajax-search-pro/v0', '/woo_search', array(\n        'methods' => 'POST',\n        'callback' => 'asp_custom_rest_handler',\n    ));\n});\n")),(0,n.kt)("p",null,"Check the API Search function is available when returning as the JSON, for example:\xa0",(0,n.kt)("inlineCode",{parentName:"p"},"[https://your-hosting.com]/wp-json/ajax-search-pro/v0/woo_search?s=[text]")),(0,n.kt)("h3",{id:"d90fd4f6427e452bb41f4a225e1750b0"},(0,n.kt)("strong",{parentName:"h3"},"3. Common search issues:")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\ud83d\udc8a Result page loop issues")),(0,n.kt)("p",null,"With the Ajax Search Pro plugin, the default search query returns 10 search results. To retrieve all search results, you need to edit the plugin to return all results."),(0,n.kt)("p",null,"Please log in to your website as an administrator and set the limit for the returned product results to the desired value, for example: 100"),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(93670).Z,width:"1762",height:"1110"})),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\ud83d\udc8a Filter not working with ASP"),"\xa0- \xa0If you use Ajax search, it can't apply the filter when loading the product"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\ud83d\udc8a The search product results cannot load images")),(0,n.kt)("p",null,"The issue arises from not specifying a search ID, leading to the default route being utilized, where images are not parsed by default. Please log in to your website as an administrator and create a\xa0",(0,n.kt)("strong",{parentName:"p"},"search instance"),"\xa0configured specifically for\xa0",(0,n.kt)("strong",{parentName:"p"},"product searches"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(77740).Z,width:"1954",height:"1026"})),(0,n.kt)("p",null,(0,n.kt)("img",{src:a(74060).Z,width:"1334",height:"1302"})))}u.isMDXComponent=!0},96434:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/152835035-b8bc8f1e67a2f2da7b930892162fa90b.png"},77740:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/1785490120-14a77a2f64603d76d11b4d53028290e1.webp"},74060:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/728105606-6ea60f05bf55e7cb118099acc708be57.webp"},93670:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/765105637-fbd1cb7b29d0be38cd7688f45d2c8c84.webp"}}]);