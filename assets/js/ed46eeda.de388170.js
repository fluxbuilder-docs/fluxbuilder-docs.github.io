"use strict";(self.webpackChunkdocu_notion_sample_site=self.webpackChunkdocu_notion_sample_site||[]).push([[1523],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,p=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),u=s(a),m=i,k=u["".concat(p,".").concat(m)]||u[m]||c[m]||l;return a?n.createElement(k,o(o({ref:t},d),{},{components:a})):n.createElement(k,o({ref:t},d))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,o=new Array(l);o[0]=u;var r={};for(var p in t)hasOwnProperty.call(t,p)&&(r[p]=t[p]);r.originalType=e,r.mdxType="string"==typeof e?e:i,o[1]=r;for(var s=2;s<l;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},53075:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>s});var n=a(87462),i=(a(67294),a(3905));const l={title:"Strapi API Settings",sidebar_position:15,slug:"/strapi-api-settings"},o=void 0,r={unversionedId:"FluxBuilder/Integration/strapi-api-settings",id:"FluxBuilder/Integration/strapi-api-settings",title:"Strapi API Settings",description:"In Strapi, there is no such thing as called format/ template for users to follow. When you create a Content Type, you will have a certain number of REST API endpoints available to interact with it.",source:"@site/docs/FluxBuilder/Integration/strapi-api-settings.md",sourceDirName:"FluxBuilder/Integration",slug:"/strapi-api-settings",permalink:"/strapi-api-settings",draft:!1,tags:[],version:"current",sidebarPosition:15,frontMatter:{title:"Strapi API Settings",sidebar_position:15,slug:"/strapi-api-settings"},sidebar:"tutorialSidebar",previous:{title:"PrestaShop API",permalink:"/prestashop-api"},next:{title:"Delivery Boy app\u2019s plugins",permalink:"/delivery-boy-plugin"}},p={},s=[{value:"1. Define content types",id:"441e7e185e65498f8cbb0ac81a5b1ce7",level:2},{value:"1.1 Product content type",id:"9d9b4d65832540ba91ce4763b8e2aa2e",level:3},{value:"1.2 Product-category content type",id:"8e4c45c72e9e480d86464c7a3ed3a2c5",level:3},{value:"1.3 Shipping content type",id:"4a2da573109d4f93b499fb983ae370cb",level:3},{value:"1.4 Payment content type",id:"14df277031014c058ae1b1dc315002f0",level:3},{value:"1.5 User content type",id:"1fb2b3a8b6c749e39e2d966c2bc84e2f",level:3},{value:"1.6 Order content type",id:"9a69c17d3294460994914ab33047878f",level:3},{value:"2. Define relations",id:"d6145d73f46e4233a98f7c185b93b7a1",level:2},{value:"2.1 Product relation",id:"e5afeaa0c6f94b238aeb864109f9ac0c",level:3},{value:"2.2 Order relations",id:"222a04737fdb4afcaad2ab9e681c471d",level:3},{value:"3. Create some entries",id:"b7f328c566624477a60b096efe25629c",level:2},{value:"4. Allow access",id:"8a70732caa8747aa8c5df3fca83257fe",level:2}],d={toc:s};function c(e){let{components:t,...l}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"In Strapi, there is no such thing as called format/ template for users to follow. When you create a Content Type, you will have a certain number of REST API endpoints available to interact with it."),(0,i.kt)("p",null,"So let\u2019s strictly follow our tutorial below including collection/content types names, JSON serializer names, etc. "),(0,i.kt)("p",null,"If you wish to customize your Strapi settings, refer to\xa0",(0,i.kt)("a",{parentName:"p",href:"https://strapi.io/documentation/v3.x/content-api/api-endpoints.html"},"Strapi Docs"),"\xa0for Strapi configurations and\xa0",(0,i.kt)("a",{parentName:"p",href:"https://pub.dev/packages/json_serializable"},"JSON-serializable"),"\xa0plugin. "),(0,i.kt)("h2",{id:"441e7e185e65498f8cbb0ac81a5b1ce7"},"1. Define content types"),(0,i.kt)("h3",{id:"9d9b4d65832540ba91ce4763b8e2aa2e"},"1.1 Product content type"),(0,i.kt)("p",null,"A Content Type, also called a model, is a type of data. The Strapi API includes by default, the\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"user"),"\xa0Content Type. Right now we need products, so our new Content Type is going to\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"product"),"\xa0(Content Types are always singular)."),(0,i.kt)("p",null,"Here are the required steps:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Navigate to the Content Type Builder in the sidebar (\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"http://your-site.com/admin/plugins/content-type-builder"),"\xa0or\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"http://localhost:xxxx/admin/plugins/content-type-builder"),")."),(0,i.kt)("li",{parentName:"ul"},"Click on\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"+ Create new collection type.")),(0,i.kt)("li",{parentName:"ul"},"Set\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"Product"),"\xa0as name."),(0,i.kt)("li",{parentName:"ul"},"Click on\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"Continue"),"\xa0and create the followings fields:")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"title"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"vendor"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"is_featured"),"\xa0with Boolean type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"is_out_of_stock"),"\xa0with Boolean type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"is_active"),"\xa0with Boolean type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"is_sale"),"\xa0with Boolean type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"price"),"\xa0with Number type, and decimal Number format"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"sale_price"),"\xa0with Number type, and decimal Number format"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"review"),"\xa0with Number type, and integer Number format"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"inventory"),"\xa0with Number type, and integer Number format"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"images"),"\xa0with Multiple Media type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"thumbnail"),"\xa0with Single Media type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"video"),"\xa0with Single Media type, support to play Video type.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Click on Finish"),(0,i.kt)("li",{parentName:"ul"},"Click on Save, the server should restart automatically.")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Question: You might realize that some fields are not used in the project at all. Why should we implement it?")),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Answer: Those fields might not be used at the moment. However, they will be useful in the near future when we update new features. They would minimize errors as much as possible in those cases."))),(0,i.kt)("h3",{id:"8e4c45c72e9e480d86464c7a3ed3a2c5"},"1.2 Product-category content type"),(0,i.kt)("p",null,"Similar to creating a\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"Product"),"\xa0content type, repeat those steps, and create a\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"Product-category"),"\xa0content type with those fields:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"title"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"slug"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"description"),"\xa0with Long text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"feature_image"),"\xa0with Single Media type")),(0,i.kt)("h3",{id:"4a2da573109d4f93b499fb983ae370cb"},"1.3 Shipping content type"),(0,i.kt)("p",null,"Create a\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"Shipping"),"\xa0content type with those fields:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"title"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"description"),"\xa0with Long Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"cost"),"\xa0with Number type, and decimal Number format")),(0,i.kt)("h3",{id:"14df277031014c058ae1b1dc315002f0"},"1.4 Payment content type"),(0,i.kt)("p",null,"Create a\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"Payment"),"\xa0content type with those fields:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"title"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"description"),"\xa0with Long Text type")),(0,i.kt)("h3",{id:"1fb2b3a8b6c749e39e2d966c2bc84e2f"},"1.5 User content type"),(0,i.kt)("p",null,"Create a\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"User"),"\xa0content type with those fields:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"username"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"email"),"\xa0with Email type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"provider"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"password"),"\xa0with Password type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"resetPasswordToken"),"\xa0with Short Text type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"confirmed"),"\xa0with Boolean type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"blocked"),"\xa0with Boolean type"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"displayName"),"\xa0with Short Text type")),(0,i.kt)("h3",{id:"9a69c17d3294460994914ab33047878f"},"1.6 Order content type"),(0,i.kt)("p",null,"Create an\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"Order"),"\xa0content type with just 1 field:\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"total"),"\xa0with decimal Number format"),(0,i.kt)("h2",{id:"d6145d73f46e4233a98f7c185b93b7a1"},"2. Define relations"),(0,i.kt)("h3",{id:"e5afeaa0c6f94b238aeb864109f9ac0c"},"2.1 Product relation"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Go to Content-Types Builder at the left-hand side menu bar. Choose\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"Product"),"\xa0collection type then click\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"+ Add another field")),(0,i.kt)("li",{parentName:"ul"},"Create a many-to-many Relation with Product-Category content type as below:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(58334).Z,width:"1826",height:"834"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Also, create a many-to-many relation with\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"Order"),"\xa0as below:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(87990).Z,width:"1822",height:"832"})),(0,i.kt)("h3",{id:"222a04737fdb4afcaad2ab9e681c471d"},"2.2 Order relations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"In\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"Order"),"\xa0content type, create a relation with\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"Payment"),"\xa0as below")),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(59593).Z,width:"1826",height:"846"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create a relation with\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"Shipping"),"\xa0as below")),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(33708).Z,width:"1816",height:"838"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Also, create a relation with\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"User"),"\xa0as below:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(64206).Z,width:"1814",height:"796"})),(0,i.kt)("h2",{id:"b7f328c566624477a60b096efe25629c"},"3. Create some entries"),(0,i.kt)("p",null,"When completing all of your content types, the next thing that you need to do is to create some data for it (so that we can test later). To do so, click on\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"Products"),"\xa0under Collection Types list on the left-hand side menu bar. You are now in the Content Manager plugin: an auto-generated user interface that lets you see and edit entries. Let's create a sample product"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(84127).Z,width:"3026",height:"1648"})),(0,i.kt)("p",null,"And the final result would look like this:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(29605).Z,width:"3032",height:"230"})),(0,i.kt)("p",null,"Continue creating as many entries as you want that you would like to see on your app."),(0,i.kt)("h2",{id:"8a70732caa8747aa8c5df3fca83257fe"},"4. Allow access"),(0,i.kt)("p",null,"When you are creating a content type, Strapi created a few set of files located in\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"api/your-content-type-name"),". The\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"find"),"\xa0route is available at\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"http://localhost:xxxx/your-content-type-name"),"\xa0or\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"http://your-site-url.com/your-content-type-name"),". However, due to Strapi APIS security, any access to those URLs would be blocked by 403 forbidden error. In order to let the app access your data, follow those steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Navigate to the Settings then Roles & Permissions"),(0,i.kt)("li",{parentName:"ol"},"Click on the Public role"),(0,i.kt)("li",{parentName:"ol"},"Tick the\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"find"),",\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"findone"),"\xa0and\xa0",(0,i.kt)("inlineCode",{parentName:"li"},"count"),"\xa0checkboxes of the available routes"),(0,i.kt)("li",{parentName:"ol"},"Save.")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Important: do the same thing for the authenticated role."))),(0,i.kt)("p",null,"Now go back to, for example,\xa0",(0,i.kt)("a",{parentName:"p",href:"http://localhostxxxx/"},"http://localhost:xxxx/products"),"\xa0or\xa0",(0,i.kt)("a",{parentName:"p",href:"http://your-site-url.com/products"},"http://your-site-url.com/products"),"\xa0. At this point, you should be able to see your list of products."),(0,i.kt)("p",null,"That\u2019s all \ud83d\ude0a"))}c.isMDXComponent=!0},58334:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/strapi-api-settings.38281b83-6252-4b8b-ae2d-2246775f79d2-ad1a4e31d8c6bea1a84e092333077512.png"},33708:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/strapi-api-settings.3b1964a4-ae9e-4e3d-a2f0-ff54570b43cd-ba27b92c835da0913a3aebe11da9cf51.png"},64206:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/strapi-api-settings.4601d69d-50f5-43cd-80c4-75a4cdfee7d4-30f5764abdb5eb67fcd16f755e78fbe9.png"},84127:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/strapi-api-settings.56fc599e-8017-4c4d-a1b1-d29d455a0a52-5d1ff9fe18ba251f7034bdfe9cc28beb.png"},87990:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/strapi-api-settings.9567e512-79cb-4b7b-a620-e081bafa8f76-ed9314f7612579770d64cc7567199364.png"},29605:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/strapi-api-settings.a1bcbf51-4532-43dd-8c68-d5d909177000-374dd860771bdb30b27d38cbb568020e.png"},59593:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/strapi-api-settings.dbcb9b9a-3642-4cc5-bad7-b1278efa73c1-a834119cf03d6c14854cc072d622bb67.png"}}]);