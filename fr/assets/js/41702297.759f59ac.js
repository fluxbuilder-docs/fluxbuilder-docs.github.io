"use strict";(self.webpackChunkdocu_notion_sample_site=self.webpackChunkdocu_notion_sample_site||[]).push([[6954],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),g=i,h=u["".concat(l,".").concat(g)]||u[g]||d[g]||s;return n?a.createElement(h,r(r({ref:t},p),{},{components:n})):a.createElement(h,r({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,r=new Array(s);r[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var c=2;c<s;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6907:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const s={title:"Push Notifications via Firebase",sidebar_position:5,slug:"/8324ec03-a87e-4e40-827e-9933a60cc788"},r=void 0,o={unversionedId:"FluxBuilder/Configuration/Push-Notifications-via-Firebase",id:"FluxBuilder/Configuration/Push-Notifications-via-Firebase",title:"Push Notifications via Firebase",description:"Push Notifications is a useful Flutter plugin. With this plugin, your Flutter app can receive and process push notifications on Android and iOS. Besides, you are able to automatically send Order Status Notifications when order status changes.",source:"@site/docs/FluxBuilder/Configuration/Push-Notifications-via-Firebase.md",sourceDirName:"FluxBuilder/Configuration",slug:"/8324ec03-a87e-4e40-827e-9933a60cc788",permalink:"/fr/8324ec03-a87e-4e40-827e-9933a60cc788",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Push Notifications via Firebase",sidebar_position:5,slug:"/8324ec03-a87e-4e40-827e-9933a60cc788"},sidebar:"tutorialSidebar",previous:{title:"Firebase Realtime Chat",permalink:"/fr/e7184bfb-1160-42b0-ac68-561a2740d9e6"},next:{title:"Push Notifications via OneSignal",permalink:"/fr/a98ae663-4684-4d32-b73c-6110a000735d"}},l={},c=[{value:"1. <strong>Setup Firebase Cloud Messaging (FCM)</strong>",id:"42e79be4696747a1b26e3513fb73a7b2",level:2},{value:"1. IOS",id:"d3be88c7204748ce9b8cdc8d5ccbbc3b",level:3},{value:"2. Android",id:"9ae0d688fb1a43c1a9bba79237b6f023",level:3},{value:"2. Execute the push notification feature:",id:"da52386943c5423d88e3e623c25484a3",level:2},{value:"Option 1: Firebase Push Notifications on FluxBuilder",id:"8c94b17b9537475cbd9194eee6e9943a",level:3},{value:"Option 2: Firebase Push Notifications on Firebase",id:"a277a9f4d4634354bccaaa3de717e351",level:3},{value:"3. Add An Icon on Notifications",id:"2182bd68ea99401a9ff416c82dcaa50f",level:2}],p={toc:c};function d(e){let{components:t,...s}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Push Notifications is a useful Flutter plugin. With this plugin, your Flutter app can receive and process push notifications on Android and iOS. Besides, you are able to automatically send Order Status Notifications when order status changes."),(0,i.kt)("h2",{id:"42e79be4696747a1b26e3513fb73a7b2"},"1. ",(0,i.kt)("strong",{parentName:"h2"},"Setup Firebase Cloud Messaging (FCM)")),(0,i.kt)("h3",{id:"d3be88c7204748ce9b8cdc8d5ccbbc3b"},"1. IOS"),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"When building, if getting the unable push notifications issue in the background and the log returns on Xcode\xa0Can't end BackgroundTask ..., you may be able to experience errors on iOS versions older than version 13.4 and Xcode from version 11. You can view this error at\xa0",(0,i.kt)("a",{parentName:"p",href:"https://forums.developer.apple.com/thread/121990"},"https://forums.developer.apple.com/thread/121990"),"\xa0From iOS 13.4, this problem was fixed.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Precondition"),': refer to "',(0,i.kt)("a",{parentName:"p",href:"/f584d7ee-720d-4ee1-a44b-6fc5cf4c036a"},"1. iOS"),'" to create an IOS application on Firebase.'),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 1"),": Install Cloud Messaging to enable push notifications on iOS. Click Cloud Messaging as shown:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(6429).Z,width:"800",height:"416"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Installing Cloud Messaging requires you to upload the auth key APNs here")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(6480).Z,width:"800",height:"443"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"To get this key, you must have an apple developer account. Visit page\xa0",(0,i.kt)("a",{parentName:"li",href:"https://developer.apple.com/"},"https://developer.apple.com"),"\xa0select\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Account")),"\xa0as shown:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(5125).Z,width:"800",height:"465"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"In\xa0",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"Certificates, IDs & Profiles"))," ",(0,i.kt)("strong",{parentName:"p"},", s"),"elect ",(0,i.kt)("strong",{parentName:"p"},"Keys")," option under"),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{src:n(5733).Z,width:"1782",height:"1183"}))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Then click the plus icon to add a new key"))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Note: 1 developer apple account can only create 2 keys, please consider before creating. But you can still delete them if needed.")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4775).Z,width:"800",height:"467"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Enter the key name and select Apple Push Notification service (APNs) then click\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"continue")))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4272).Z,width:"800",height:"417"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Click\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Register")))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(1545).Z,width:"800",height:"417"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Click\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Download")),"\xa0to download the APNs key file")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4076).Z,width:"800",height:"428"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Return to the firebase console to update the APNs auth key. Click\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Upload")))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(8654).Z,width:"800",height:"418"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Click the Browse button then select the downloaded key:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(1110).Z,width:"800",height:"416"})),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(6298).Z,width:"2146",height:"930"})),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(8546).Z,width:"800",height:"446"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The key ID is the back part of the downloaded key file name:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(8961).Z,width:"800",height:"445"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Enter Team ID, if you do not know where Team ID is coming from, please click on the question mark as shown in the picture, then click on the\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"membership tab")))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(9632).Z,width:"800",height:"443"})),(0,i.kt)("p",null,"This is Team ID, copy it and enter the form in firebase:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(9690).Z,width:"800",height:"317"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Click\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Upload")),":")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(1523).Z,width:"800",height:"418"})),(0,i.kt)("p",null,"In some cases, this error will be displayed (in some cases it will not be). If this is the case, please click\xa0",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"Upload")),"\xa0again:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(2e3).Z,width:"800",height:"433"})),(0,i.kt)("p",null,"If the following screen appears, congratulations, you have successfully configured:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(772).Z,width:"800",height:"437"})),(0,i.kt)("h3",{id:"9ae0d688fb1a43c1a9bba79237b6f023"},"2. Android"),(0,i.kt)("p",null,'Refer to "',(0,i.kt)("a",{parentName:"p",href:"/f584d7ee-720d-4ee1-a44b-6fc5cf4c036a"},"2. Android"),'" to create an Android application on Firebase.'),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"da52386943c5423d88e3e623c25484a3"},"2. Execute the push notification feature:"),(0,i.kt)("p",null,"After finishing setting up Firebase Cloud Messaging (FCM), you can push notifications to the end-user. The end-user will receive the notifications on their smart devices."),(0,i.kt)("p",null,"You can choose to push notifications via FluxBuilder or via Firebase directly."),(0,i.kt)("h3",{id:"8c94b17b9537475cbd9194eee6e9943a"},"Option 1: Firebase Push Notifications on FluxBuilder"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step1: Get Server Key")),(0,i.kt)("p",null,"Go to the following path\xa0",(0,i.kt)("a",{parentName:"p",href:"https://console.firebase.google.com/project/_/settings/cloudmessaging"},(0,i.kt)("inlineCode",{parentName:"a"},"Cloud Messaging")),"\xa0and select your Firebase Console project to get\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"Server Key")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(5452).Z,width:"1161",height:"517"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 2: Input Server Key into FluxBuilder")),(0,i.kt)("p",null,"After you have obtained the Server Key, go back to the FluxBuilder App, open the Features Tab \u2192 select the Push Notification feature \u2192 enter Server Key"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(9455).Z,width:"2159",height:"1381"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 3: Send Messages")),(0,i.kt)("p",null,"Enter any missing information and click\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"SEND"),"\xa0button."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(634).Z,width:"2159",height:"1380"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"4. Note")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Your project must have\xa0",(0,i.kt)("a",{parentName:"li",href:"/8324ec03-a87e-4e40-827e-9933a60cc788"},"Setup firebase cloud messaging"),"\xa0completely."),(0,i.kt)("li",{parentName:"ul"},"The Server Key taken must be the Server Key of that project"),(0,i.kt)("li",{parentName:"ul"},"Absolutely do not share Server Key")),(0,i.kt)("h3",{id:"a277a9f4d4634354bccaaa3de717e351"},"Option 2: Firebase Push Notifications on Firebase"),(0,i.kt)("p",null,"Instead of FluxBuilder, you can go to Firebase to push notification manually as these following steps:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Drag the left menu to the bottom, the Grow section will have Cloud Messaging. Click\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Cloud Messaging")),", then\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Send your first message")),":")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(366).Z,width:"800",height:"418"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create a new messenger, fill in the messenger information, and click next:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(1748).Z,width:"800",height:"418"})),(0,i.kt)("p",null,"In the\xa0",(0,i.kt)("strong",{parentName:"p"},"Target"),"\xa0part, select the application you want to send, here select the iOS / Android application that was configured in Firebase before:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(3012).Z,width:"800",height:"417"})),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(1457).Z,width:"1528",height:"780"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Click\xa0",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"Next")),":")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4421).Z,width:"1538",height:"782"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The remaining steps can be ignored, continue to click Review:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(9143).Z,width:"800",height:"417"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Click Publish button:")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4881).Z,width:"800",height:"419"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Now go back to the app and check if it works:")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"2182bd68ea99401a9ff416c82dcaa50f"},"3. Add An Icon on Notifications"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4902).Z,width:"374",height:"786"})),(0,i.kt)("p",null,"To custom icon of notification item, you need to add an image field in additional data when pushing the notification like this:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4893).Z,width:"1880",height:"1374"})))}d.isMDXComponent=!0},9455:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1104999889-2368e925c29a48542a7d52756f2cb2ce.png"},1545:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1163522322-1490f4e5b92a86898296341052e9bad8.png"},4076:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1366196576-9d27b456ca91b6aaf44b0320979fda36.png"},5452:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1374375467-16c37c4b34e1e5f6c22544acceffa87b.png"},4421:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1399809349-4e75c7b08657782c5ecee6b362232bc9.jpg"},8961:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1639018531-0d8eea7b63aa470e428cd7557df05f66.png"},8546:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1695118630-ce3a616ae462591add1b273663543dc5.jpg"},4272:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1774685132-5738819a399ee4296e140b9439b39d43.png"},634:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1854112587-9c1974362b2a8ac511a5322cec40121f.png"},8654:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1886192487-a2661b5b86cfe0101006baeb33b79b23.png"},9690:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1937147782-4454a2bbf39f50f878f12c3f49cc6308.png"},366:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1940045373-e128dd2f2a660d7a982b4ed1ad5061d8.jpg"},1523:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1994006301-130b68623b8608f4d8952e060dd926dd.png"},1748:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2054306784-fbecdadf25d6303d78975d90090ed72f.png"},1457:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2089507073-e6e83442bc9bedba800d9f80f1a0c73d.jpg"},4893:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2144178492-7163c4269991b3018410439bdd9ef546.png"},6429:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/287739075-d030febf1e4661546760ec906844b351.png"},1110:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/342573223-347559d1e879d3dfca4219b83cded421.jpg"},9632:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/375042114-429e5ee5a0eaea9045391afe03c78029.png"},6298:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/467905950-e4ce81729b2945e20b1c787ad8310a3b.png"},772:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/468260701-8c0d7f47f04144e3cca477bab40fa6e4.png"},3012:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/50337786-7b6466cd17d74b035080d578403125dc.png"},9143:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/601557633-0b269ddd436e9ff2c17b4331df5c9eee.png"},4881:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/631267489-df9b8cb333d1280009d76641316ac595.png"},2e3:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/762185796-ebcfe8df68b39f27d42dfb38467fb2b8.png"},4775:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/80596745-fe073d08b217b55363a6c855141273dc.png"},4902:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/850578013-1021303fe627b15b1ca7030cf3163225.png"},6480:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/867808410-6fe7eb9fec994431f3ef1327b1df1dc3.png"},5733:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/906043474-3f82853b09418fceaf91edd3232aa592.png"},5125:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/933075509-58313e11d57e82a240b3a25aa765408b.png"}}]);